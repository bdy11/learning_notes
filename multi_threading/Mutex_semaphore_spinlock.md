# mutex, semaphore, spinlock

互斥锁，自旋锁和信号量都是多线程编程中实现线程同步的工具，他们具有不同的特点和用途。

1. **互斥锁**
- 互斥锁是一种用于确保在任何时刻都只有一个线程能够访问临界区的同步机制。
- 它是二进制的，具有两个状态，锁定（被一个线程占用）和解锁（没有线程占用）
- 当一个线程尝试获取已经锁定的互斥锁时，它会被阻塞，直到锁被释放为止
- 互斥锁适合用于解决临界区问题，即多个线程需要争夺访问共享资源的情况
2. **自旋锁**
- 自旋锁是一种忙等待同步机制，不会使线程休眠，而是会一直尝试获取锁。
- 自旋锁适合用于短时间内等待的情况，因为长时间的自旋可能会导致CPU资源浪费
- 它通常用于多核处理器上，因为在忙等待时间，其他线程可以在不同的核上执行
- 自旋锁的实现通常比互斥锁更轻量级，但在高争用情况下可能不是最佳选择
3. **信号量**
- 信号量是一种更通用的同步工具，可以用于控制多个线程访问共享资源，或者控制同时执行的线程数量。
- 信号量可以是二进制的或计数型的。
- 二进制信号量通常用于互斥控制，允许一个或零个线程访问资源。
- 计数信号量可以限制并发访问的数量，例如，只允许N个线程同时访问。

区别：
- 互斥锁和自旋锁都用于互斥访问共享资源，但互斥锁是阻塞型的，会使线程休眠，而自旋锁是忙等待型，不会休眠。自旋锁适合短期等待和多核CPU。
- 信号量是更通用的同步机制，可以用于互斥控制和并发限制，而互斥锁和自旋锁主要用于互斥控制。
- 互斥锁适用于需要短时间内阻止多个线程访问共享资源的情况。自旋锁适合短期等待在多核CPU上性能良好。信号量适用于更广泛的并发控制需求。